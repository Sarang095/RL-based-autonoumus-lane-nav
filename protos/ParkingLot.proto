#VRML_SIM R2023b utf8
# license: Copyright Cyberbotics Ltd. Licensed for use only with Webots.
# license: https://cyberbotics.com/webots_assets_license
# A parking lot with painted parking spaces and line markings.

PROTO ParkingLot [
  field SFVec3f    translation     0 0 0
  field SFRotation rotation        0 0 1 0
  field SFVec3f    size            30 20 0.1
  field SFInt32    spaces          8
  field SFColor    pavement        0.4 0.4 0.4
  field SFColor    lines           1 1 1
]
{
  Transform {
    translation IS translation
    rotation IS rotation
    children [
      # Parking lot base (asphalt)
      Shape {
        appearance PBRAppearance {
          baseColor IS pavement
          roughness 0.8
          metalness 0.1
        }
        geometry Box {
          size IS size
        }
      }
      # Parking space lines
      DEF PARKING_LINES Transform {
        translation 0 0 0.051
        children [
          Shape {
            appearance PBRAppearance {
              baseColor IS lines
              roughness 0.3
              metalness 0
            }
            geometry IndexedLineSet {
              coord Coordinate {
                point [
                  # Outer boundary lines
                  -15 -10 0   15 -10 0    # Bottom edge
                  15 -10 0    15 10 0     # Right edge
                  15 10 0     -15 10 0    # Top edge
                  -15 10 0    -15 -10 0   # Left edge
                  
                  # Vertical divider lines for parking spaces
                  -11.25 -10 0   -11.25 -5 0   # Space 1 left
                  -7.5 -10 0     -7.5 -5 0     # Space 2 left
                  -3.75 -10 0    -3.75 -5 0    # Space 3 left
                  0 -10 0        0 -5 0        # Space 4 left / center
                  3.75 -10 0     3.75 -5 0     # Space 5 left
                  7.5 -10 0      7.5 -5 0      # Space 6 left
                  11.25 -10 0    11.25 -5 0    # Space 7 left
                  
                  # Top row parking spaces
                  -11.25 5 0     -11.25 10 0   # Space 1 top left
                  -7.5 5 0       -7.5 10 0     # Space 2 top left
                  -3.75 5 0      -3.75 10 0    # Space 3 top left
                  0 5 0          0 10 0        # Space 4 top left / center
                  3.75 5 0       3.75 10 0     # Space 5 top left
                  7.5 5 0        7.5 10 0      # Space 6 top left
                  11.25 5 0      11.25 10 0    # Space 7 top left
                  
                  # Horizontal divider for driving lane
                  -15 -5 0       15 -5 0       # Bottom row back line
                  -15 5 0        15 5 0        # Top row front line
                ]
              }
              coordIndex [
                # Outer boundary
                0 1 -1   1 2 -1   2 3 -1   3 0 -1
                
                # Bottom row vertical dividers
                4 5 -1   6 7 -1   8 9 -1   10 11 -1
                12 13 -1   14 15 -1   16 17 -1
                
                # Top row vertical dividers  
                18 19 -1   20 21 -1   22 23 -1   24 25 -1
                26 27 -1   28 29 -1   30 31 -1
                
                # Horizontal dividers
                32 33 -1   34 35 -1
              ]
            }
          }
        ]
      }
      # Entrance/Exit markers
      DEF ENTRANCE_ARROW Transform {
        translation -12 0 0.052
        children [
          Shape {
            appearance PBRAppearance {
              baseColor 1 1 0
              roughness 0.3
              metalness 0
            }
            geometry IndexedLineSet {
              coord Coordinate {
                point [
                  0 -2 0    0 2 0      # Vertical line
                  -1 1 0    0 2 0      # Left arrow
                  1 1 0     0 2 0      # Right arrow
                ]
              }
              coordIndex [
                0 1 -1   2 3 -1   4 5 -1
              ]
            }
          }
        ]
      }
      DEF EXIT_ARROW Transform {
        translation 12 0 0.052
        children [
          Shape {
            appearance PBRAppearance {
              baseColor 1 1 0
              roughness 0.3
              metalness 0
            }
            geometry IndexedLineSet {
              coord Coordinate {
                point [
                  0 -2 0    0 2 0      # Vertical line
                  -1 -1 0   0 -2 0     # Left arrow
                  1 -1 0    0 -2 0     # Right arrow
                ]
              }
              coordIndex [
                0 1 -1   2 3 -1   4 5 -1
              ]
            }
          }
        ]
      }
    ]
  }
}